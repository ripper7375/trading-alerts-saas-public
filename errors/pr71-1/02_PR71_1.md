The job failed due to a TypeScript error at app/api/admin/users/route.ts, line 172: "'user.sessions' is possibly 'undefined'." To resolve this, ensure user.sessions is defined before accessing its length or elements. Update the relevant code segment as follows:

```typescript
let lastLoginAt: Date | null = null;
if (
  Array.isArray(user.sessions) &&
  user.sessions.length > 0 &&
  user.sessions[0]
) {
  const sessionExpiry = new Date(user.sessions[0].expires);
  lastLoginAt = new Date(
    sessionExpiry.getTime() - SESSION_DURATION_DAYS * 24 * 60 * 60 * 1000
  );
}
```

This change guarantees that user.sessions exists and is an array before you attempt to access user.sessions[0], eliminating the compile-time error.

You can view the relevant section in context here:  
https://github.com/ripper7375/trading-alerts-saas-public/blob/de48bda5fa1313be12dcc13c4ab38f98d4c1299c/app/api/admin/users/route.ts
