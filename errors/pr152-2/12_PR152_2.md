The job failed because the TypeScript type definitions for the User object (see types/user.ts) are missing all the 2FA-related properties that are defined in the Prisma schema and used in your codebase, such as:

- twoFactorEnabled: boolean
- twoFactorSecret: string | null
- twoFactorBackupCodes: string | null
- twoFactorVerifiedAt: Date | null

Additionally, there is a separate error in app/(auth)/verify-2fa/page.tsx: "Type 'string | undefined' is not assignable to type 'string'." This is due to the use of an optional value (such as the token from useSearchParams()) being typed as possibly undefined but passed into a prop or variable expecting a string.

**How to fix:**

1. **Update the User Type:**
   In types/user.ts, extend your User interface to include the missing 2FA fields, matching your Prisma schema:

```typescript
export interface User {
  // ...existing fields
  twoFactorEnabled: boolean;
  twoFactorSecret: string | null;
  twoFactorBackupCodes: string | null;
  twoFactorVerifiedAt: Date | null;
}
```

If you have a UserWithRelations interface, add these there as well if used in any business logic.

2. **Explicitly Handle Possible Undefined:**
   In app/(auth)/verify-2fa/page.tsx, make sure to handle possibly undefined values (such as token):

```tsx
const token = searchParams.get('token') ?? '';
```

or add checks that ensure the value is a string before usage, or adjust any function/prop types to allow undefined if appropriate.

Applying these changes will resolve the type errors related to 2FA properties missing from the User type and fix the failed workflow run.

- [Prisma User model definition (ref: 8a80d2c6a327b3b1d0096197f0c5c66f6b25412a)](https://github.com/ripper7375/trading-alerts-saas-public/blob/8a80d2c6a327b3b1d0096197f0c5c66f6b25412a/prisma/schema.prisma)
- [Current User TypeScript interface (ref: 8a80d2c6a327b3b1d0096197f0c5c66f6b25412a)](https://github.com/ripper7375/trading-alerts-saas-public/blob/8a80d2c6a327b3b1d0096197f0c5c66f6b25412a/types/user.ts)
