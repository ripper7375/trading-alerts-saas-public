The failing job error is caused by a type mismatch in lib/dlocal/dlocal-payment.service.ts at line 219. The function extractUserIdFromOrderId is declared to return string | null, but the code at line 219 may return string | undefined, resulting in Type 'string | undefined' is not assignable to type 'string | null'.

Solution:
Update the function so it explicitly returns null instead of undefined when the condition fails. Hereâ€™s the corrected code:

```typescript
export function extractUserIdFromOrderId(orderId: string): string | null {
  const parts = orderId.split('-');
  if (parts.length >= 3 && parts[0] === 'order') {
    return parts[1] ?? null; // ensures null, not undefined
  }
  return null;
}
```

Or more simply, ensure all branches return string or null:

```typescript
export function extractUserIdFromOrderId(orderId: string): string | null {
  const parts = orderId.split('-');
  if (
    parts.length >= 3 &&
    parts[0] === 'order' &&
    typeof parts[1] === 'string'
  ) {
    return parts[1];
  }
  return null;
}
```

Apply this fix in lib/dlocal/dlocal-payment.service.ts on ref 0693fed9bc72a2c7520ddf51af6ea66ea22bfdca to resolve the type error and allow your build to succeed.
