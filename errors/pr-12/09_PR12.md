I'll analyze the failing job to find a solution. Let me get the logs first. The job is failing due to a TypeScript type error. Let me examine the file where the issue occurs: ## Solution

The TypeScript type check is failing at **line 219** in `lib/dlocal/dlocal-payment.service.ts`. The issue is that the function `extractUserIdFromOrderId` can return `string | undefined` (when the array access `parts[1]` doesn't exist), but the return type is declared as `string | null`.

### The Problem

On line 219, `return parts[1];` can be `undefined` if the array doesn't have an element at index 1, but TypeScript expects the return type to be `string | null`.

### Fix

Update line 219 to explicitly handle the `undefined` case and convert it to `null`:

```typescript
export function extractUserIdFromOrderId(orderId: string): string | null {
  const parts = orderId.split('-');
  if (parts.length >= 3 && parts[0] === 'order') {
    return parts[1] ?? null; // Use nullish coalescing to convert undefined to null
  }
  return null;
}
```

Alternatively, you could change the return type to allow `undefined`:

```typescript
export function extractUserIdFromOrderId(
  orderId: string
): string | null | undefined {
  const parts = orderId.split('-');
  if (parts.length >= 3 && parts[0] === 'order') {
    return parts[1];
  }
  return null;
}
```

**Recommended approach**: Use the first fix with `? ?  null` to maintain the explicit `string | null` contract and ensure `undefined` is never returned.
