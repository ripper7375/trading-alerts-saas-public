I'll analyze the failing job to find a solution for you. ## Solution

The build is failing due to a TypeScript type error on **line 219** in `lib/dlocal/dlocal-payment.service.ts`. The function `extractUserIdFromOrderId` returns `string | undefined` but the return type is declared as `string | null`.

### The Issue

On line 219, `parts[1]` can be `undefined` if the array doesn't have an element at index 1, but TypeScript expects the return type to only be `string | null`.

### Fix

Change line 219 to explicitly handle the `undefined` case by using the nullish coalescing operator:

```typescript
export function extractUserIdFromOrderId(orderId: string): string | null {
  const parts = orderId.split('-');
  if (parts.length >= 3 && parts[0] === 'order') {
    return parts[1] ?? null;
  }
  return null;
}
```

Alternatively, you can use a type assertion if you're confident the condition guarantees the element exists:

```typescript
export function extractUserIdFromOrderId(orderId: string): string | null {
  const parts = orderId.split('-');
  if (parts.length >= 3 && parts[0] === 'order') {
    return parts[1] as string;
  }
  return null;
}
```

The first approach (`? ?  null`) is safer as it explicitly handles the edge case where `parts[1]` might be undefined, converting it to `null` to match the return type.
