The main causes for the job failure are TypeScript errors in lib/auth/session-tracker.ts related to the PrismaClient type and session tracking. Hereâ€™s how to fix them:

1. **Type Error: Property 'userSession' does not exist on type 'PrismaClient'.**

   In your schema, the model is defined as UserSession (with table mapping @@map("user_sessions")), so Prisma exposes it on the client as userSession, which is correct. However, ensure that you have regenerated your Prisma client after schema changes:

   ```
   npx prisma generate
   ```

   If you recently added or renamed the UserSession model, the client may be out of date.

   **If the issue persists, try this:**
   - Check your prisma import:
     ```typescript
     import { PrismaClient } from '@prisma/client';
     const prisma = new PrismaClient();
     ```
     Confirm that your prisma instance is from @prisma/client and not from an outdated build.

2. **Type Error: Type 'string | undefined' is not assignable to type 'string'.**

   Example (line 129):  
   If you have a value declared as string | undefined where TypeScript expects a string, you need to handle the undefined case explicitly.  
   For instance:

   ```typescript
   function foo(bar: string | undefined) {
     // ...
   }
   ```

   Should be:

   ```typescript
   function foo(bar: string | undefined) {
     if (!bar) throw new Error('bar is undefined');
     // or provide a default value
     // const value = bar ?? '';
   }
   ```

   Apply this pattern wherever you assign a value that can be undefined to a field that expects string (e.g., sessionToken, browser, os).

3. **TS7006: Parameter implicitly has an 'any' type.**

   Example (lines like 212, 291, 292):  
   Explicitly type your parameters:

   ```typescript
   return sessions.map((session: any) => ({
     // ...
   }));
   ```

   Ideally, type them correctly using an interface:

   ```typescript
   return sessions.map((session: YourSessionType) => ({
     // ...
   }));
   ```

**Summary of solutions:**

- Run `npx prisma generate` to refresh your generated client.
- Ensure all values of type string | undefined are handled (e.g., use nullish coalescing or default values).
- Add explicit types to all function/mapping parameters that are currently implicit any.

**Example fix for undefined string error:**

```typescript
// Instead of directly assigning a possibly undefined value:
const tokenList = sessionsToRevoke
  .map((s) => s.sessionToken)
  .filter((t): t is string => t !== null && t !== undefined);
```

- And when referencing sessionToken elsewhere:

```typescript
if (!sessionToken) throw new Error('No sessionToken to process');
```

**For a full fix, update your code as described and check all locations mentioned by the TS errors above.**
