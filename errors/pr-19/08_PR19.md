I'll analyze the failing job to find a solution for you. Let me get the Prisma schema file to see the issue: ## Solution for Job Failure

The job is failing due to a **Prisma schema validation error** on line 659. The error states:

> **Error**: A one-to-one relation must use unique fields on the defining side. Either add an `@unique` attribute to the field `commissionId`, or change the relation to one-to-many.

### The Problem

In the `DisbursementTransaction` model (line 659), you have defined a one-to-one relationship with `Commission`:

```prisma
commissionId      String
commission        Commission @relation(fields:  [commissionId], references: [id])
```

However, the `Commission` model (line 484) expects a one-to-one relationship:

```prisma
disbursementTransaction DisbursementTransaction?
```

For a one-to-one relationship, the foreign key field (`commissionId`) must be unique to ensure only one `DisbursementTransaction` can reference each `Commission`.

### The Fix

Add the `@unique` constraint to the `commissionId` field in the `DisbursementTransaction` model:

**Change line 658 in `prisma/schema.prisma`:**

```prisma
// Commission Reference (from Part 17)
commissionId      String   @unique
commission        Commission @relation(fields: [commissionId], references: [id])
```

This ensures that each commission can only have one disbursement transaction, which aligns with your one-to-one relationship design.

### Alternative Solution

If you need multiple disbursement transactions per commission (one-to-many relationship), change the `Commission` model instead:

```prisma
// In Commission model (line 484), change from:
disbursementTransaction DisbursementTransaction?

// To:
disbursementTransactions DisbursementTransaction[]
```

Then remove the `commissionId` index on line 699 as it would be redundant with the unique constraint if you go with the first solution.
