Your CI job failed due to Prisma-related TypeScript errors. The core problems and solutions are:

1. Property 'loginHistory' does not exist on type 'PrismaClient'.
   - Files affected:
     - [app/api/user/login-history/route.ts (lines 46, 70)](https://github.com/ripper7375/trading-alerts-saas-public/blob/68f242062d9db667c4d743ffa8ae8418e8a3ae0e/app/api/user/login-history/route.ts)
     - [lib/security/device-detection.ts (lines 227, 277)](https://github.com/ripper7375/trading-alerts-saas-public/blob/68f242062d9db667c4d743ffa8ae8418e8a3ae0e/lib/security/device-detection.ts)
   - Solution: Ensure you have a `loginHistory` model defined in your Prisma schema (schema.prisma). After adding this, run `npx prisma generate` to update your Prisma Client.
     ```prisma
     model LoginHistory {
       id                String   @id @default(uuid())
       userId            String
       status            String
       provider          String
       deviceType        String?
       browser           String?
       browserVersion    String?
       os                String?
       osVersion         String?
       ipAddress         String?
       country           String?
       city              String?
       region            String?
       deviceFingerprint String?
       isNewDevice       Boolean?
       createdAt         DateTime @default(now())
     }
     ```
     After saving, regenerate the Prisma client.

2. Property 'securityAlert' does not exist on type 'PrismaClient'.
   - Files affected:
     - [app/api/user/password/route.ts (line 133)](https://github.com/ripper7375/trading-alerts-saas-public/blob/68f242062d9db667c4d743ffa8ae8418e8a3ae0e/app/api/user/password/route.ts)
     - [lib/security/device-detection.ts (line 339)](https://github.com/ripper7375/trading-alerts-saas-public/blob/68f242062d9db667c4d743ffa8ae8418e8a3ae0e/lib/security/device-detection.ts)
   - Solution: Ensure a `securityAlert` model is present in your Prisma schema, for example:
     ```prisma
     model SecurityAlert {
       id           String   @id @default(uuid())
       userId       String
       type         String
       title        String
       message      String
       ipAddress    String?
       deviceInfo   String?
       location     String?
       emailSent    Boolean
       emailSentAt  DateTime?
       createdAt    DateTime @default(now())
     }
     ```
     Then regenerate the Prisma client.

3. Properties like 'newDeviceAlerts' and 'passwordChangeAlerts' must be accessed with bracket notation in TypeScript.
   - File affected:
     - [lib/security/device-detection.ts (lines 260, 261)](https://github.com/ripper7375/trading-alerts-saas-public/blob/68f242062d9db667c4d743ffa8ae8418e8a3ae0e/lib/security/device-detection.ts)
   - Solution: Change dot notation to bracket notation:
     ```typescript
     newDeviceAlerts: preferences['newDeviceAlerts'] !== false;
     passwordChangeAlerts: preferences['passwordChangeAlerts'] !== false;
     ```

4. Unused or implicitly typed parameters.
   - Remove the unused parameters or explicitly type them in the code where reported:
     - [app/(dashboard)/settings/security/page.tsx, line 11: 'Loader2' is declared but not read]
     - [lib/security/device-detection.ts, lines 118, 190: object possibly undefined & unused variables]

5. After correcting your Prisma schema, run:
   ```
   npx prisma generate
   pnpm install
   pnpm run type-check
   ```
   This should resolve the type errors and pass the failing CI job.
