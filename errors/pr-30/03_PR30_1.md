I'll analyze the failing job to find a solution for you. Let me get the file where the error occurred: ## Solution for Failing Job

The build is failing due to a **TypeScript type error on line 37** in `lib/disbursement/services/transaction-logger.ts`. The `details` field is typed as `Record<string, unknown>`, which doesn't satisfy Prisma's `InputJsonValue` type requirement.

### The Problem

Prisma's JSON field types are strict and don't accept `Record<string, unknown>` directly. The error occurs because `Record<string, unknown>` doesn't match the expected union type that includes arrays.

### The Fix

Cast the `details` field to satisfy Prisma's type requirements. Update **line 37** in [`transaction-logger.ts`](https://github.com/ripper7375/trading-alerts-saas-public/blob/d4ce850945e5158ac8a59d358a96bec6caecf5a0/lib/disbursement/services/transaction-logger.ts#L37):

```typescript
async log(entry: AuditLogEntry): Promise<void> {
  await this.prisma.disbursementAuditLog.create({
    data: {
      action: entry.action,
      status: entry.status,
      details: (entry.details || {}) as any, // Add type assertion
      transactionId: entry.transactionId,
      batchId: entry.batchId,
      actor: entry.actor,
      ipAddress: entry. ipAddress,
      userAgent:  entry.userAgent,
    },
  });
}
```

Alternatively, for a more type-safe approach, import and use Prisma's JSON types:

```typescript
import { PrismaClient, AuditLogStatus, Prisma } from '@prisma/client';

// Then on line 37:
details: (entry.details || {}) as Prisma.InputJsonValue,
```

Either approach will resolve the type mismatch and allow the build to succeed.
