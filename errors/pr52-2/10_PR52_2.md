There are two key type errors causing the failing job:

1. In app/api/indicators/[symbol]/[timeframe]/route.ts (line 342), you are assigning proIndicators (type ProIndicatorData) to data, which expects type MT5ProIndicators & ProIndicatorData. However, your transformProIndicators function can set zigzag to null, but MT5ProIndicators expects zigzag to be an object or undefined, never null.

**Solution:** Change transformProIndicators so that zigzag is undefined instead of null when data is missing, to match the expected type.

Replace:

```typescript
zigzag: proData.zigzag
  ? {
      peaks: proData.zigzag.peaks || [],
      bottoms: proData.zigzag.bottoms || [],
    }
  : null,
```

With:

```typescript
zigzag: proData.zigzag
  ? {
      peaks: proData.zigzag.peaks || [],
      bottoms: proData.zigzag.bottoms || [],
    }
  : undefined,
```

This ensures compatibility with the union type.

2. In components/charts/indicator-overlay.tsx (line 446), you are mapping an array to `{ time: Time | undefined; value: number; }` but the expected type for setData is `(WhitespaceData<Time> | LineData<Time>)[]`, where time cannot be undefined.

**Solution:** Filter out any entries where `time` is undefined before passing to setData. For lineData building, replace:

```typescript
const lineData = points.map((point) => ({
  time: point.time as Time,
  value: point.value,
}));
```

With:

```typescript
const lineData = points
  .filter((point) => point.time !== undefined)
  .map((point) => ({
    time: point.time as Time,
    value: point.value,
  }));
```

Apply similar filtering anywhere setData is called with a possibly undefined time (e.g., Keltner Channels, MAs, ZigZag).

Implementing these two changes will resolve the type incompatibilities shown in the job log.

- See [route.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/d330af06945ab2d3bef7b16877d4fbd3d1cdc4dd/app/api/indicators/%5Bsymbol%5D/%5Btimeframe%5D/route.ts) (lines 342, 163-168)
- See [indicator-overlay.tsx](https://github.com/ripper7375/trading-alerts-saas-public/blob/d330af06945ab2d3bef7b16877d4fbd3d1cdc4dd/components/charts/indicator-overlay.tsx) (lines 258, 299, 333, 367, 399, 442)
