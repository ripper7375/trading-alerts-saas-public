I'll analyze the failing job to identify the issue and provide a solution. Looking at the logs, the failing test is in `__tests__/api/disbursement/reports.test.ts`. The issue is a **RangeError: Maximum call stack size exceeded** caused by an infinite recursion in the `MockURL` class at line 29.

Let me examine the test file: ## Solution

The test is failing due to a **recursive infinite loop** in the `MockURL` class constructor. The error "Maximum call stack size exceeded" occurs at line 29 where `new URL(url)` is called, but since you've overridden the global `URL` with `MockURL`, it creates an infinite recursion.

### The Problem

```typescript
class MockURL {
  searchParams: Map<string, string>;

  constructor(url: string) {
    this.searchParams = new Map();
    const urlObj = new URL(url); // ← This calls MockURL constructor again!
    urlObj.searchParams.forEach((value, key) => {
      this.searchParams.set(key, value);
    });
  }
}

global.URL = MockURL as unknown as typeof URL; // ← Replaces native URL
```

### The Fix

You need to preserve the native `URL` class before mocking it. Update `__tests__/api/disbursement/reports.test.ts`:

```typescript
// Store native URL before mocking
const NativeURL = global.URL;

class MockURL {
  searchParams: Map<string, string>;

  constructor(url: string) {
    this.searchParams = new Map();
    const urlObj = new NativeURL(url); // Use native URL
    urlObj.searchParams.forEach((value, key) => {
      this.searchParams.set(key, value);
    });
  }
}

global.Headers = MockHeaders as unknown as typeof Headers;
global.Request = MockRequest as unknown as typeof Request;
global.URL = MockURL as unknown as typeof URL;
```

This preserves the native `URL` class so `MockURL` can use it internally without causing infinite recursion.
