The failing job is caused by TypeScript errors like:

- Property 'systemConfig' does not exist on type 'PrismaClient'
- Property 'systemConfigHistory' does not exist on type 'PrismaClient'

This means your Prisma schema does not define models named systemConfig or systemConfigHistory, but your code tries to access them via prisma.systemConfig, prisma.systemConfigHistory, etc.

To fix this:

1. Open your prisma/schema.prisma file.
2. Ensure you have models for systemConfig and systemConfigHistory like:

```prisma
model systemConfig {
  id        Int     @id @default(autoincrement())
  // ... your fields
}

model systemConfigHistory {
  id        Int     @id @default(autoincrement())
  // ... your fields
}
```

3. After updating schema.prisma, run:

```sh
npx prisma generate
```

This will regenerate the Prisma Client so prisma.systemConfig and prisma.systemConfigHistory will be available in TypeScript.

If you do not want these models, remove or update all references to prisma.systemConfig and prisma.systemConfigHistory in:

- app/api/admin/settings/affiliate/route.ts (lines 86, 290, 302, 319)
- app/api/config/affiliate/route.ts (line 54)
- lib/affiliate/constants.ts (line 125)

Summary of solution:

- Add missing Prisma models and regenerate, or
- Remove/fix all references to non-existent models in the TypeScript code.

Let me know if you want the code changes or need more details on updating the schema.
