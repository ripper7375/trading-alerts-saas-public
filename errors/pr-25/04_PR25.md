I'll analyze the failing job to find a solution for you. The test failure is in the `generateBatchNumber` function test, which expects unique batch numbers to be generated. Let me examine the relevant files: ## Solution for Failing Test: Unique Batch Number Generation

The test is failing because the `generateBatchNumber()` function generates batch numbers too quickly within the same millisecond, resulting in duplicate values.

### Problem

In `lib/disbursement/constants. ts` (lines 101-105), the function uses `Date.now().toString(36)` for uniqueness, but when called in rapid succession (as in the test on line 162-164), it can generate identical timestamps:

```typescript
export function generateBatchNumber(): string {
  const year = new Date().getFullYear();
  const timestamp = Date.now().toString(36).toUpperCase();
  return `BATCH-${year}-${timestamp}`;
}
```

### Solution

Add randomness to ensure uniqueness even when called at the same millisecond:

```typescript
export function generateBatchNumber(): string {
  const year = new Date().getFullYear();
  const timestamp = Date.now().toString(36).toUpperCase();
  const random = Math.random().toString(36).substring(2, 8).toUpperCase();
  return `BATCH-${year}-${timestamp}-${random}`;
}
```

This matches the pattern already used in `generateTransactionId()` (lines 111-115) and ensures uniqueness by combining timestamp with a random component. The test regex on line 158 should still pass since it uses `[A-Z0-9]+` which will match the extended format.
