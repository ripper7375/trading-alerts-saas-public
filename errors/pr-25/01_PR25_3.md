The cause of the failing job is the "should generate unique batch numbers" test in **tests**/lib/disbursement/constants.test.ts. This test expects generateBatchNumber() to return two different values per invocation but both use Date.now() for uniqueness, and if called quickly, Date.now() can yield the same value, making the test (and sometimes production) non-unique.

To fix this, append a random or unique value to the timestamp. Hereâ€™s an improved implementation for generateBatchNumber in lib/disbursement/constants.ts:

```typescript
export function generateBatchNumber(): string {
  const year = new Date().getFullYear();
  const timestamp = Date.now().toString(36).toUpperCase();
  const random = Math.random().toString(36).substring(2, 8).toUpperCase();
  return `BATCH-${year}-${timestamp}${random}`;
}
```

This ensures each call produces a truly unique batch number and resolves the test failure. See related code at lib/disbursement/constants.ts (ref: fa30b4cbc322cee879d76c05a40a490c997ff098).
