The failure is a TypeScript type incompatibility at lib/disbursement/services/commission-aggregator.ts, line 149. The error states that the returned array does not match the expected type PayableAffiliate[], specifically due to a mismatch in the type of riseAccount.kycStatus.

Solution:
Check your PayableAffiliate type definition (in @/types/disbursement). The riseAccount.kycStatus in your return currently sets its value to either affiliate.riseAccount?.kycStatus, 'PENDING', or 'none'. If PayableAffiliate expects only certain string literals (e.g., 'APPROVED', 'PENDING', 'none'), ensure all possible values match the type.

Recommended code fix in lib/disbursement/services/commission-aggregator.ts (around line 181):

```typescript
kycStatus: hasRiseAccount
  ? (['APPROVED', 'PENDING', 'REJECTED'].includes(affiliate.riseAccount?.kycStatus)
      ? affiliate.riseAccount?.kycStatus
      : 'PENDING')
  : 'none',
```

Or, adjust the PayableAffiliate or kycStatus type union to include all possible string values being used.

Review both the type definition and the runtime logic in this file to ensure their compatibility.

See failure location: [lib/disbursement/services/commission-aggregator.ts#L149](https://github.com/ripper7375/trading-alerts-saas-public/blob/04a4f3f8b1dfc5830e5390004723dc76fd2558cd/lib/disbursement/services/commission-aggregator.ts#L149)
