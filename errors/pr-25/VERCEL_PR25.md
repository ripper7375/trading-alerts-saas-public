06:11:08.703 Running build in Washington, D.C., USA (East) â€“ iad1
06:11:08.704 Build machine configuration: 2 cores, 8 GB
06:11:08.868 Cloning github.com/ripper7375/trading-alerts-saas-public (Branch: claude/payment-foundation-setup-gyiCb, Commit: 04a4f3f)
06:11:10.167 Cloning completed: 1.299s
06:11:10.964 Restored build cache from previous deployment (FpSS7BeLgNSCMjr1njumZfzFnJS5)
06:11:12.332 Running "vercel build"
06:11:13.073 Vercel CLI 50.1.3
06:11:13.818 Detected `pnpm-lock.yaml` 9 which may be generated by pnpm@9.x or pnpm@10.x
06:11:13.819 Using pnpm@10.x based on project creation date
06:11:13.819 To use pnpm@9.x, manually opt in using corepack (https://vercel.com/docs/deployments/configure-a-build#corepack)
06:11:13.858 Installing dependencies...
06:11:14.599 Lockfile is up to date, resolution step is skipped
06:11:14.762 Already up to date
06:11:15.300
06:11:15.338
06:11:15.339 > trading-alerts-saas-v7@0.1.0 postinstall /vercel/path0
06:11:15.340 > prisma generate
06:11:15.340
06:11:16.252 warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
06:11:16.253 For more information, see: https://pris.ly/prisma-config
06:11:16.253
06:11:16.379 Prisma schema loaded from prisma/schema.prisma
06:11:17.021
06:11:17.022 âœ” Generated Prisma Client (v6.19.0) to ./node_modules/.pnpm/@prisma+client@6.19.0_prisma@6.19.0_typescript@5.9.3__typescript@5.9.3/node_modules/@prisma/client in 292ms
06:11:17.022
06:11:17.023 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
06:11:17.023
06:11:17.023 Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints
06:11:17.023
06:11:17.042
06:11:17.043 > trading-alerts-saas-v7@0.1.0 prepare /vercel/path0
06:11:17.043 > husky
06:11:17.043
06:11:17.099 â•­ Warning â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
06:11:17.100 â”‚ â”‚
06:11:17.100 â”‚ Ignored build scripts: @prisma/client@6.19.0, @prisma/engines@6.19.0, â”‚
06:11:17.100 â”‚ prisma@6.19.0, sharp@0.34.5, unrs-resolver@1.11.1. â”‚
06:11:17.100 â”‚ Run "pnpm approve-builds" to pick which dependencies should be allowed â”‚
06:11:17.100 â”‚ to run scripts. â”‚
06:11:17.100 â”‚ â”‚
06:11:17.100 â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
06:11:17.105 Done in 3.1s using pnpm v10.26.0
06:11:17.119 Detected Next.js version: 15.5.9
06:11:17.149 Running "pnpm run build"
06:11:17.437
06:11:17.437 > trading-alerts-saas-v7@0.1.0 build /vercel/path0
06:11:17.437 > next build
06:11:17.437
06:11:18.166 â–² Next.js 15.5.9
06:11:18.168 - Experiments (use with caution):
06:11:18.168 Â· serverActions
06:11:18.169
06:11:18.225 Creating an optimized production build ...
06:11:34.000 âœ“ Compiled successfully in 15.3s
06:11:34.003 Linting and checking validity of types ...
06:11:56.604 Failed to compile.
06:11:56.605
06:11:56.605 ./lib/disbursement/services/commission-aggregator.ts:149:5
06:11:56.605 Type error: Type '{ id: string; fullName: string; email: string; country: string; pendingAmount: number; paidAmount: number; pendingCommissionCount: number; oldestPendingDate: Date | null; readyForPayout: boolean; riseAccount: { ...; }; }[]' is not assignable to type 'PayableAffiliate[]'.
06:11:56.605 Type '{ id: string; fullName: string; email: string; country: string; pendingAmount: number; paidAmount: number; pendingCommissionCount: number; oldestPendingDate: Date | null; readyForPayout: boolean; riseAccount: { ...; }; }' is not assignable to type 'PayableAffiliate'.
06:11:56.606 The types of 'riseAccount.kycStatus' are incompatible between these types.
06:11:56.606 Type 'string' is not assignable to type '"none" | RiseWorksKycStatus'.
06:11:56.606
06:11:56.606 [0m [90m 147 |[39m })[33m;[39m
06:11:56.606 [90m 148 |[39m
06:11:56.606 [31m[1m>[22m[39m[90m 149 |[39m [36mreturn[39m affiliatesWithCommissions
06:11:56.606 [90m |[39m [31m[1m^[22m[39m
06:11:56.606 [90m 150 |[39m [33m.[39mmap((affiliate) [33m=>[39m {
06:11:56.606 [90m 151 |[39m [36mconst[39m pendingAmount [33m=[39m affiliate[33m.[39mcommissions[33m.[39mreduce(
06:11:56.606 [90m 152 |[39m (sum[33m,[39m c) [33m=>[39m sum [33m+[39m [33mNumber[39m(c[33m.[39mcommissionAmount)[33m,[39m[0m
06:11:56.661 Next.js build worker exited with code: 1 and signal: null
06:11:56.707 â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
06:11:56.725 Error: Command "pnpm run build" exited with 1
