The failing job is caused by TypeScript errors such as:

```
Property 'systemConfig' does not exist on type 'PrismaClient'.
Property 'systemConfigHistory' does not exist on type 'PrismaClient'.
```

This issue occurs in:

- `app/api/admin/settings/affiliate/route.ts` (lines 86, 290, 302, 319)
- `app/api/config/affiliate/route.ts` (line 54)
- `lib/affiliate/constants.ts` (line 125)

**Root Cause:**  
The PrismaClient instance (`prisma`) does not have the properties `systemConfig` or `systemConfigHistory` in its generated type, so TypeScript is raising errors.

**Analysis:**  
Your code expects PrismaClient to have models `systemConfig` and `systemConfigHistory`. According to the [prisma/schema.prisma](https://github.com/ripper7375/trading-alerts-saas-public/blob/bc0245cf0bf5f9deb4e323483176672a6d4df0c0/prisma/schema.prisma) on ref `bc0245cf0bf5f9deb4e323483176672a6d4df0c0`, both models are defined as `SystemConfig` and `SystemConfigHistory` (note the upper camel case naming). Prisma exposes these models on the client as `systemConfig` and `systemConfigHistory` (lower camel case), which matches your usage.

**Probable Causes:**

1. Prisma client may be out of sync with the schema (i.e., you modified `prisma/schema.prisma` but did not run `prisma generate`).
2. There may be an import or installation issue with `.prisma/client`.

**Solution:**  
Regenerate the Prisma client to sync your PrismaClient with your schema.

**Steps:**

1. Run the following command at your project root:
   ```
   npx prisma generate
   ```
2. Ensure that the import in your TypeScript files is correct:
   ```ts
   import { PrismaClient } from '@prisma/client';
   ```
3. If you import a pre-configured instance:
   ```ts
   import { prisma } from '@/lib/db/prisma';
   ```
   Make sure that instance was initialized with `new PrismaClient()` from the properly generated `@prisma/client`.

**If you are already importing correctly** and the problem persists, check that `node_modules/.prisma/client/index.d.ts` exists and includes `systemConfig` and `systemConfigHistory`.

**If not,** deleting your `node_modules` and reinstalling can help:

```bash
rm -rf node_modules
npm install
npx prisma generate
```

**No code change is needed** in your TypeScript (CRUD code for `systemConfig` and `systemConfigHistory` is correct); just ensure the Prisma client is up to date with your schema by running the command above.

For reference, see where the client is used in your code:

- [admin/settings/affiliate/route.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/bc0245cf0bf5f9deb4e323483176672a6d4df0c0/app/api/admin/settings/affiliate/route.ts)
- [config/affiliate/route.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/bc0245cf0bf5f9deb4e323483176672a6d4df0c0/app/api/config/affiliate/route.ts)
- [constants.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/bc0245cf0bf5f9deb4e323483176672a6d4df0c0/lib/affiliate/constants.ts)

**Summary:**

- Regenerate the Prisma client with `npx prisma generate`.
- Ensure your imports are from `@prisma/client`.
- No code changes needed to the CRUD logic accessing `prisma.systemConfig` or `prisma.systemConfigHistory`.

This should resolve the PrismaClient property errors and allow your job to complete successfully.
