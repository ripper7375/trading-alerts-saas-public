The failing job is caused by TypeScript errors indicating that the properties loginHistory and securityAlert do not exist on the PrismaClient instance. This is due to missing Prisma models in the generated client; these models are referenced in your code but are not present in the generated client, likely because you have not run prisma generate since adding their definitions to schema.prisma.

To fix this, follow these steps:

1. Confirm that the models exist in your Prisma schema:
   - The LoginHistory and SecurityAlert models are correctly defined in prisma/schema.prisma in your repo at ref 28db2f5092794f0d641be6625e929fc952a8f0c0.

2. Run Prisma Migrate (if new columns or models were added):

   ```
   npx prisma migrate dev
   ```

   This updates your database schema, if needed.

3. Regenerate the Prisma client:

   ```
   npx prisma generate
   ```

4. Restart your development server or rebuild your project to ensure the new types are loaded.

These steps will make prisma.loginHistory and prisma.securityAlert available on your PrismaClient instance, resolving errors like:

- Property 'loginHistory' does not exist on type 'PrismaClient'
- Property 'securityAlert' does not exist on type 'PrismaClient'

If you use a CI environment, ensure prisma generate is run as part of your build or post-install scripts.

If you have renamed or relocated your schema, update the path in your scripts as needed.

No code changes are needed to your API code or device-detection utilities, as the logic correctly references the LoginHistory and SecurityAlert models.

Relevant references:

- LoginHistory usage example: [route.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/28db2f5092794f0d641be6625e929fc952a8f0c0/app/api/user/login-history/route.ts#L63)
- SecurityAlert usage example: [route.ts](https://github.com/ripper7375/trading-alerts-saas-public/blob/28db2f5092794f0d641be6625e929fc952a8f0c0/app/api/user/password/route.ts#L133)
- Schema: [schema.prisma](https://github.com/ripper7375/trading-alerts-saas-public/blob/28db2f5092794f0d641be6625e929fc952a8f0c0/prisma/schema.prisma)

Summary: Run npx prisma generate after confirming your schema; this will resolve the failing job.
