# ==============================================================================
# Flask MT5 Service - Environment Variables Template
# ==============================================================================
#
# DEPLOYMENT: Windows VPS (Contabo or similar)
#
# This service MUST run on Windows because:
# - MetaTrader5 Python package only works on Windows
# - Flask must run on same machine as MT5 terminals
# - 15 MT5 terminals required (one per symbol)
#
# Recommended VPS Specs (Contabo):
# - OS: Windows Server 2019/2022 or Windows 10/11 Pro
# - RAM: 32GB (15 MT5 terminals x ~1.5GB each + Flask)
# - CPU: 8 cores
# - Storage: 100GB SSD
# - Network: Static IP, firewall allow port 5001
#
# ==============================================================================

# Copy this file to .env and fill in your actual values

# Flask Configuration
FLASK_ENV=development
FLASK_PORT=5001
DEBUG=True

# Production settings (uncomment for Windows VPS deployment)
# FLASK_ENV=production
# DEBUG=False

# MT5 Configuration File Path
MT5_CONFIG_PATH=config/mt5_terminals.json

# MT5 Server (shared across all terminals)
MT5_SERVER=your_broker_server

# MT5 Terminal Credentials (15 terminals, one per symbol)
# Terminal 01: AUDJPY
MT5_LOGIN_01=your_mt5_account_number_01
MT5_PASSWORD_01=your_mt5_password_01

# Terminal 02: AUDUSD
MT5_LOGIN_02=your_mt5_account_number_02
MT5_PASSWORD_02=your_mt5_password_02

# Terminal 03: BTCUSD
MT5_LOGIN_03=your_mt5_account_number_03
MT5_PASSWORD_03=your_mt5_password_03

# Terminal 04: ETHUSD
MT5_LOGIN_04=your_mt5_account_number_04
MT5_PASSWORD_04=your_mt5_password_04

# Terminal 05: EURUSD
MT5_LOGIN_05=your_mt5_account_number_05
MT5_PASSWORD_05=your_mt5_password_05

# Terminal 06: GBPJPY
MT5_LOGIN_06=your_mt5_account_number_06
MT5_PASSWORD_06=your_mt5_password_06

# Terminal 07: GBPUSD
MT5_LOGIN_07=your_mt5_account_number_07
MT5_PASSWORD_07=your_mt5_password_07

# Terminal 08: NDX100
MT5_LOGIN_08=your_mt5_account_number_08
MT5_PASSWORD_08=your_mt5_password_08

# Terminal 09: NZDUSD
MT5_LOGIN_09=your_mt5_account_number_09
MT5_PASSWORD_09=your_mt5_password_09

# Terminal 10: US30
MT5_LOGIN_10=your_mt5_account_number_10
MT5_PASSWORD_10=your_mt5_password_10

# Terminal 11: USDCAD
MT5_LOGIN_11=your_mt5_account_number_11
MT5_PASSWORD_11=your_mt5_password_11

# Terminal 12: USDCHF
MT5_LOGIN_12=your_mt5_account_number_12
MT5_PASSWORD_12=your_mt5_password_12

# Terminal 13: USDJPY
MT5_LOGIN_13=your_mt5_account_number_13
MT5_PASSWORD_13=your_mt5_password_13

# Terminal 14: XAGUSD
MT5_LOGIN_14=your_mt5_account_number_14
MT5_PASSWORD_14=your_mt5_password_14

# Terminal 15: XAUUSD
MT5_LOGIN_15=your_mt5_account_number_15
MT5_PASSWORD_15=your_mt5_password_15

# API Security (for Next.js backend communication)
MT5_API_KEY=your_secure_api_key_here

# Admin API Key (for terminal management endpoints)
MT5_ADMIN_API_KEY=your_admin_api_key_here

# Health Monitor Configuration
HEALTH_CHECK_INTERVAL=60

# CORS Origins (comma-separated)
# Local development + your Vercel production domain
CORS_ORIGINS=http://localhost:3000,https://yourdomain.vercel.app

# Logging
LOG_LEVEL=INFO

# ==============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST (Contabo Windows VPS)
# ==============================================================================
#
# 1. Provision Contabo Windows VPS (~$30-50/month for 8 vCPU, 32GB RAM)
#    https://contabo.com/en/windows-vps/
#
# 2. Connect via RDP and install prerequisites:
#    - Python 3.11+ (https://python.org/downloads)
#    - Git (https://git-scm.com/download/win)
#
# 3. Install 15 MT5 terminals (one per symbol):
#    - C:\MT5\MT5_01 through C:\MT5\MT5_15
#    - Each with unique broker account
#    - Copy Fractal indicators to each terminal's MQL5\Indicators folder
#    - Compile indicators in MetaEditor
#    - Open 9 chart windows per terminal (M5 through D1)
#    - Apply fractal indicators to all charts
#
# 4. Clone repository and setup Flask:
#    git clone <your-repo-url>
#    cd mt5-service
#    python -m venv venv
#    .\venv\Scripts\activate
#    pip install -r requirements.txt
#
# 5. Create .env file with production values:
#    - FLASK_ENV=production
#    - DEBUG=False
#    - Update CORS_ORIGINS with your Vercel domain
#    - Generate secure MT5_API_KEY and MT5_ADMIN_API_KEY
#
# 6. Configure Windows Firewall:
#    netsh advfirewall firewall add rule name="Flask MT5 Service" ^
#      dir=in action=allow protocol=tcp localport=5001
#
# 7. Run with Waitress (production WSGI server):
#    pip install waitress
#    waitress-serve --port=5001 run:app
#
# 8. (Optional) Install as Windows Service using NSSM:
#    https://nssm.cc/download
#    nssm install FlaskMT5Service
#
# 9. Update Vercel environment variables:
#    MT5_SERVICE_URL=http://YOUR_VPS_PUBLIC_IP:5001
#
# ==============================================================================
